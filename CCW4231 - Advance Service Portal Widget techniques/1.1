
Enter the following information in the Server Script Window:

(function () {
	/* populate the 'data' object */
	/* e.g., data.table = $sp.getValue('table'); */

	//define the variable to hold our list	
	data.list = [];

	//Query the table
	var gr = new GlideRecord('incident');
	gr.addQuery('active', true);
	gr.query()
	while (gr.next()) {
		//load values into object
		var record_obj = {};
		record_obj.number = gr.number.getDisplayValue();
		record_obj.short_description = gr.short_description.getDisplayValue();
		record_obj.priority = gr.priority.getDisplayValue();
		record_obj.category = gr.category.getDisplayValue();
		//add object to the list  
		data.list.push(record_obj);
	}
})();

Enter the following information in the HTML template box

<div class="panel panel-default">
<!-- your widget template -->
  <div class="panel-heading">
    K17 List Widget
  </div>
  <div class="panel-body">
    <ul class="list-group">
   <li class="list-group-item" ng-repeat="item in c.data.list">{{item.number}} - {{item.short_description}} - {{item.priority}}</li>
  </ul>
    </div>
</div>


Modify the Server Script to look like this
(function() {
    /* populate the 'data' object */
    /* e.g., data.table = $sp.getValue('table'); */

	if(input){
		//define the variable to hold our list
		data.list = [];
		
		//Query the table
    var gr = new GlideRecord('incident');
    gr.addQuery('active', true);
    gr.query()
    while (gr.next()) {
			//load values into object
			var record_obj = {};
			record_obj.number = gr.number.getDisplayValue();
			record_obj.short_description = gr.short_description.getDisplayValue();
			record_obj.priority = gr.priority.getDisplayValue();
			record_obj.category = gr.category.getDisplayValue();
      //add object to the list  
			data.list.push(record_obj);
    }
	}
})();


Enter the following information in the Client Script

function($scope) {
  /* widget controller */
  var c = this;
	c.data.loading = true;
	
	$scope.server.update().then(function(){
		c.data.loading = false;
	})
}

Modify the html template to look like this
<div class="panel panel-default">
<!-- your widget template -->
  <div class="panel-heading">
    K17 List Widget
  </div>
  <div class="panel-body">
   <span ng-if="c.data.loading"><i  class="fa fa-spinner fa-spin fa-3x fa-fw"></i>
     <span class="sr-only">Loading...</span></span>
    <ul class="list-group">
   <li class="list-group-item" ng-repeat="item in c.data.list">{{item.number}} - {{item.short_description}} - {{item.priority}}</li>
  </ul>
    </div>
</div>
